<!-- TOP APP BAR -->
<mat-toolbar class="app-toolbar">
  <span class="app-title">Warehouse Manager</span>
  <span class="spacer"></span>
  <div class="user-info">
    <span class="user-name"> {{ authService.getUser()?.fullName }} </span>
    <button mat-stroked-button color="accent" (click)="authService.logout()">Logout</button>
  </div>
</mat-toolbar>

<!-- MAIN CONTENT -->
<div class="location-container" *ngIf="location">

  <!-- LOCATION HEADER CARD -->
  <div class="stacked-cards">
    <mat-card class="example-card" appearance="outlined">
      <mat-card-header>
        <img mat-card-avatar src="https://images.pexels.com/photos/4483610/pexels-photo-4483610.jpeg"
             alt="Warehouse image"/>
        <mat-card-title>{{ location.name }}</mat-card-title>
        <mat-card-subtitle>
          Manager: {{ location.managerName }} {{ location.managerSurname }}
          <span class="manager-email">({{ location.managerEmail }})</span>
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content class="address">
        {{ location.address.street }} {{ location.address.no }},
        {{ location.address.city }} {{ location.address.zip }},
        {{ location.address.country }}
      </mat-card-content>
    </mat-card>

    <!-- ZONES -->
    <div class="grid-two">
      <mat-card class="section-card">
        <mat-grid-list cols="2" rowHeight="2:1">
          <mat-grid-tile *ngFor="let zone of warehouseZones">
            <div style="display: flex; flex-direction: column; gap: 6px;">
              <div>{{ zone.name }}</div>
              <mat-chip class="secondary">{{ zone.storageTypeName }}</mat-chip>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </mat-card>
    </div>
  </div>

  <!-- EMPLOYEES -->
  <div class="employees-chips">
    <mat-chip
      *ngFor="let e of employees"
      matTooltip="Role: {{ e.role }}&#10;Email: {{ e.email }}"
      matTooltipPosition="above"
      color="primary"
      selected>
      {{ e.name }} {{ e.surname }}
    </mat-chip>
  </div>

  <!-- STOCK -->
  <mat-grid-list cols="3" rowHeight="180px" gutterSize="16px">
    <mat-grid-tile *ngFor="let s of stockAvailabilities">
      <mat-card class="stock-card">
        <div class="stock-item">{{ s.item }}</div>
        <mat-chip class="secondary">{{ s.warehouseZone }}</mat-chip>
        <div class="stock-count">{{ s.piecesCount }} pcs</div>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>

</div>
